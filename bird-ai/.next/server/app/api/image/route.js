"use strict";(()=>{var e={};e.id=649,e.ids=[649],e.modules={72934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},39491:e=>{e.exports=require("assert")},14300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},57147:e=>{e.exports=require("fs")},13685:e=>{e.exports=require("http")},95687:e=>{e.exports=require("https")},72254:e=>{e.exports=require("node:buffer")},6005:e=>{e.exports=require("node:crypto")},87561:e=>{e.exports=require("node:fs")},88849:e=>{e.exports=require("node:http")},22286:e=>{e.exports=require("node:https")},87503:e=>{e.exports=require("node:net")},49411:e=>{e.exports=require("node:path")},97742:e=>{e.exports=require("node:process")},84492:e=>{e.exports=require("node:stream")},72477:e=>{e.exports=require("node:stream/web")},41041:e=>{e.exports=require("node:url")},47261:e=>{e.exports=require("node:util")},65628:e=>{e.exports=require("node:zlib")},22037:e=>{e.exports=require("os")},71017:e=>{e.exports=require("path")},77282:e=>{e.exports=require("process")},12781:e=>{e.exports=require("stream")},76224:e=>{e.exports=require("tty")},57310:e=>{e.exports=require("url")},73837:e=>{e.exports=require("util")},71267:e=>{e.exports=require("worker_threads")},59796:e=>{e.exports=require("zlib")},90949:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>g,originalPathname:()=>w,requestAsyncStorage:()=>c,routeModule:()=>q,serverHooks:()=>m,staticGenerationAsyncStorage:()=>l,staticGenerationBailout:()=>f});var s={};t.r(s),t.d(s,{POST:()=>POST}),t(95655);var o=t(83323),i=t(54647),n=t(98620),a=t(66886),u=t(79742);let p=new u.Configuration({apiKey:process.env.OPENAI_API_KEY}),x=new u.OpenAIApi(p);async function POST(e){try{let{userId:r}=(0,n.I8)(),t=await e.json(),{prompt:s,amount:o=1,resolution:i="512x512"}=t;if(!r)return new a.Z("Unauthorized",{status:401});if(!p.apiKey)return new a.Z("API key not configured",{status:500});if(!s)return new a.Z("Prompt is required",{status:400});if(!o)return new a.Z("Amount is required",{status:400});if(!i)return new a.Z("Resolution is required",{status:400});let u=await x.createImage({prompt:s,n:parseInt(o,10),size:i});return a.Z.json(u.data.data)}catch(e){return console.log("[IMAGE_ERROR]",e),new a.Z("internal error",{status:500})}}let d=o.AppRouteRouteModule,q=new d({definition:{kind:i.x.APP_ROUTE,page:"/api/image/route",pathname:"/api/image",filename:"route",bundlePath:"app/api/image/route"},resolvedPagePath:"/home/adii/Bird-AI/bird-ai/app/api/image/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:c,staticGenerationAsyncStorage:l,serverHooks:m,headerHooks:g,staticGenerationBailout:f}=q,w="/api/image/route"}};var r=require("../../../webpack-runtime.js");r.C(e);var __webpack_exec__=e=>r(r.s=e),t=r.X(0,[651,727,742],()=>__webpack_exec__(90949));module.exports=t})();